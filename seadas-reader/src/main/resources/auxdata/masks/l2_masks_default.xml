<?xml version="1.0" encoding="UTF-8"?>
<Masks>
  <Mask type="Maths">
    <NAME value="Land" />
    <DESCRIPTION value="l2_flags.LAND" />
    <COLOR red="100" green="100" blue="100" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.LAND" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Aeros_Absorb" />
    <DESCRIPTION value="l2_flags.ABSAER - Absorbing Aerosols determined" />
    <COLOR red="255" green="200" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.ABSAER" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Atmos_Fail" />
    <DESCRIPTION value="l2_flags.ATMFAIL - Atmospheric correction failure" />
    <COLOR red="255" green="0" blue="26" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.ATMFAIL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Atmos_Iter" />
    <DESCRIPTION value="l2_flags.MAXAERITER - Maximum iterations reached for NIR correction" />
    <COLOR red="160" green="160" blue="160" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.MAXAERITER" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Atmos_Warn" />
    <DESCRIPTION value="l2_flags.ATMWARN - Atmospheric correction warning; Epsilon out-of-bounds" />
    <COLOR red="255" green="0" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.ATMWARN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Chl_Fail" />
    <DESCRIPTION value="l2_flags.CHLFAIL - Chlorophyll algorithm failure" />
    <COLOR red="255" green="0" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.CHLFAIL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Chl_Warn" />
    <DESCRIPTION value="l2_flags.CHLWARN - Chlorophyll out-of-bounds (&lt;0.01 or &gt;100 mg m^-3)" />
    <COLOR red="192" green="192" blue="192" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.CHLWARN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Cloud_Ice" />
    <DESCRIPTION value="l2_flags.CLDICE - Cloud/Ice determined" />
    <COLOR red="255" green="255" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.CLDICE" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Coccolith" />
    <DESCRIPTION value="l2_flags.COCCOLITH - Coccolithophores detected" />
    <COLOR red="0" green="50" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.COCCOLITH" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Filter" />
    <DESCRIPTION value="l2_flags.FILTER - Insufficient data for smoothing filter" />
    <COLOR red="128" green="128" blue="128" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.FILTER" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Glint" />
    <DESCRIPTION value="l2_flags.MODGLINT - Moderate glint determined" />
    <COLOR red="191" green="143" blue="247" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.MODGLINT" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Glint_High" />
    <DESCRIPTION value="l2_flags_HIGLINT - High glint determined" />
    <COLOR red="255" green="61" blue="245" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.HIGLINT" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Lt_High" />
    <DESCRIPTION value="l2_flags.HILT - High (or saturating) TOA radiance" />
    <COLOR red="255" green="255" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.HILT" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Lw_Low" />
    <DESCRIPTION value="l2_flags.LOWLW - Low Lw @ 555nm (possible cloud shadow)" />
    <COLOR red="0" green="0" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.LOWLW" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Missing_Data" />
    <DESCRIPTION value="l2_flags.BOWTIEDEL - specification deleted pixel (i.e. bow-tie VIIRS)" />
    <COLOR red="192" green="192" blue="192" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.BOWTIEDEL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Nav_Fail" />
    <DESCRIPTION value="l2_flags.NAVFAIL - Navigation failure" />
    <COLOR red="255" green="0" blue="26" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.NAVFAIL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Nav_Warn" />
    <DESCRIPTION value="l2_flags.NAVWARN - Navigation suspect" />
    <COLOR red="255" green="0" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.NAVWARN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Polarization" />
    <DESCRIPTION value="l2_flags.HIPOL - High degree of polarization determined" />
    <COLOR red="128" green="128" blue="128" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.HIPOL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Product_Fail" />
    <DESCRIPTION value="l2_flags.PRODFAIL - One (or more) product algorithms produced a failure" />
    <COLOR red="255" green="175" blue="175" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.PRODFAIL" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Product_Warn" />
    <DESCRIPTION value="l2_flags.PRODWARN - One (or more) product algorithms generated a warning" />
    <COLOR red="255" green="0" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.PRODWARN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Quality_L2" />
    <DESCRIPTION value="Product could be computed (l2_flags composite)" />
    <COLOR red="0" green="128" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="!( l2_flags.ATMFAIL or l2_flags.LAND or l2_flags.CLDICE or l2_flags.HILT )" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Quality_L3" />
    <DESCRIPTION value="Best quality (l2_flags composite)" />
    <COLOR red="0" green="255" blue="0" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="!( l2_flags.ATMFAIL or l2_flags.LAND or l2_flags.HIGLINT or l2_flags.HILT or l2_flags.STRAYLIGHT or l2_flags.CLDICE or l2_flags.COCCOLITH or l2_flags.HISOLZEN or l2_flags.LOWLW or l2_flags.CHLFAIL or l2_flags.NAVWARN or l2_flags.MAXAERITER or l2_flags.CHLWARN or l2_flags.ATMWARN or l2_flags.NAVFAIL or l2_flags.FILTER  or l2_flags.HISATZEN)" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Sea_Ice" />
    <DESCRIPTION value="l2_flags.SEAICE - Sea ice determined" />
    <COLOR red="245" green="255" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.SEAICE" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Sen_Zen_High" />
    <DESCRIPTION value="l2_flags.HISATZEN" />
    <COLOR red="193" green="255" blue="254" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.HISATZEN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Sol_Zen_High" />
    <DESCRIPTION value="l2_flags.HISOLZEN - High solar zenith angle" />
    <COLOR red="141" green="11" blue="134" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.HISOLZEN" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Stray_Light" />
    <DESCRIPTION value="l2_flags.STRAYLIGHT - Straylight determined" />
    <COLOR red="96" green="96" blue="96" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.STRAYLIGHT" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Water_Shallow" />
    <DESCRIPTION value="l2_flags.COASTZ - Shallow water (&lt;30m)" />
    <COLOR red="165" green="0" blue="11" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.COASTZ" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Water_Turbid" />
    <DESCRIPTION value="l2_flags.TURBIDW - Turbid water determined" />
    <COLOR red="137" green="99" blue="31" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="l2_flags.TURBIDW" />
  </Mask>
  <Mask type="Maths">
    <NAME value="Water" />
    <DESCRIPTION value="Not land (l2_flags.LAND)" />
    <COLOR red="0" green="0" blue="255" alpha="255" />
    <TRANSPARENCY value="0.0" />
    <EXPRESSION value="!( l2_flags.LAND )" />
  </Mask>
</Masks>

